import{R as E}from"./react-753d8adb.js";import{u as S}from"./use-sync-external-store-db2117ac.js";const a=t=>{let e;const o=new Set,s=(n,c)=>{const u=typeof n=="function"?n(e):n;if(!Object.is(u,e)){const l=e;e=c??typeof u!="object"?u:Object.assign({},e,u),o.forEach(f=>f(e,l))}},r=()=>e,i={setState:s,getState:r,subscribe:n=>(o.add(n),()=>o.delete(n)),destroy:()=>{o.clear()}};return e=t(s,r,i),i},b=t=>t?a(t):a,{useDebugValue:p}=E,{useSyncExternalStoreWithSelector:y}=S;function D(t,e=t.getState,o){const s=y(t.subscribe,t.getState,t.getServerState||t.getState,e,o);return p(s),s}const d=t=>{const e=typeof t=="function"?b(t):t,o=(s,r)=>D(e,s,r);return Object.assign(o,e),o},v=t=>t?d(t):d;export{v as c};
